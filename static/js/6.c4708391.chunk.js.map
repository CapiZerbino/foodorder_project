{"version":3,"sources":["components/utils/LogoHeader.js","components/layout/AddressForm.js","components/layout/PaymentForm.js","components/layout/Review.js","screens/Checkout.js"],"names":["LogoHeader","text","type","display","flexDirection","justifyContent","alignItems","sx","marginInlineStart","component","backgroundColor","width","height","marginInline","marginBlock","borderRadius","alignContent","color","style","alignSelf","to","textDecoration","variant","noWrap","flexGrow","xs","sm","fontWeight","AddressForm","props","sendData","useState","fullname","setFullName","address","setAdress","phone","setPhone","Fragment","Typography","gutterBottom","Grid","container","spacing","item","TextField","required","id","label","fullWidth","onChange","event","target","value","name","FormControlLabel","control","Checkbox","onClick","phoneNumber","layout","ButtonWrapper","currency","discount","showSpinner","handleSubmit","usePayPalScriptReducer","options","isPending","dispatch","setID","useEffect","className","disabled","forceReRender","fundingSource","undefined","createOrder","data","actions","order","create","purchase_units","amount","currency_code","then","orderId","console","log","onApprove","capture","onError","err","error","PaymentForm","select","setSelect","md","FormControl","marginBlockEnd","InputLabel","Select","labelId","MenuItem","maxWidth","minHeight","components","Review","cartItems","info","shipInfo","totalPrice","reduce","a","c","qty","product","price","List","disablePadding","map","ListItem","py","px","ListItemText","primary","secondary","description","mt","direction","steps","getStepContent","step","getData","Error","theme","createTheme","connect","state","cart","total","activeStep","setActiveStep","location","voucherID","ship","setShip","JSON","stringify","handleNext","ThemeProvider","CssBaseline","AppBar","position","elevation","borderBottom","t","palette","divider","Container","mb","Paper","my","p","align","Stepper","pt","pb","Step","StepLabel","length","obj","toString","voucher_id","payment_method","order_items","menu_id","quantity","axios","post","res","catch","Box","Button","ml"],"mappings":"wHAAA,gFAqEeA,IA/Df,YAA0D,IAAD,IAAnCC,YAAmC,MAA5B,UAA4B,MAAjBC,YAAiB,MAAV,OAAU,EACvD,OACE,eAAC,IAAD,CACEC,QAAQ,OACRC,cAAc,MACdC,eAAe,aACfC,WAAW,SACXC,GAAI,CAAEC,kBAAmB,GAL3B,UAOY,SAATN,GACG,cAAC,IAAD,CAAKO,UAAU,MAAMF,GAAI,CACvBG,gBAAiB,UACjBC,MAAO,GACPC,OAAQ,GACRC,aAAc,EACdC,YAAa,EACbC,aAAc,EACdZ,QAAQ,OACRE,eAAgB,SAChBW,aAAc,UAThB,SAWA,cAAC,IAAD,CACAC,MAAM,SACNC,MAAO,CACLD,MAAO,OACPN,MAAO,GACPC,OAAQ,GACRO,UAAW,cAMjB,cAAC,IAAD,CAAMC,GAAG,IAAIF,MAAO,CAAEG,eAAgB,QAAtC,SACE,cAAC,IAAD,CACEC,QAAQ,KACRC,QAAM,EACNd,UAAU,MACVF,GAAI,CACFiB,SAAU,EACVrB,QAAS,CAAEsB,GAAI,OAAQC,GAAI,SAC3BC,WAAY,OACZV,MAAO,WARX,SAWGhB,MAGK,aAATC,GACC,cAAC,IAAD,CACEe,MAAM,SACNC,MAAO,CACLD,MAAO,UACPN,MAAO,GACPC,OAAQ,GACRC,aAAc,W,6PCtDX,SAASe,EAAYC,GAClC,IAAOC,EAAYD,EAAZC,SACP,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA6BF,mBAAS,IAAtC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAqBA,OACE,eAAC,IAAMC,SAAP,WACE,cAACC,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAACjC,GAAI,CAAEU,MAAO,WAAnD,8BAGA,eAACwB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACM,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAf,SACE,cAACoB,EAAA,EAAD,CACEC,UAAQ,EACRC,GAAG,WACHC,MAAM,YACNC,WAAS,EACT3B,QAAQ,WACR4B,SAhCgB,SAACC,GAC7BlB,EAAYkB,EAAMC,OAAOC,QAgCbA,MAAOrB,MAGX,cAACS,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAf,SACE,cAACoB,EAAA,EAAD,CACEC,UAAQ,EACRC,GAAG,UACHO,KAAK,UACLN,MAAM,UACNC,WAAS,EACT3B,QAAQ,WACR4B,SAzCmB,SAACC,GAChChB,EAAUgB,EAAMC,OAAOC,QAyCXA,MAAOnB,MAGX,cAACO,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACmB,EAAA,EAAD,CACEC,UAAQ,EACRC,GAAG,QACHO,KAAK,QACLN,MAAM,eACNC,WAAS,EACT3B,QAAQ,WACR4B,SAlDiB,SAACC,GAC9Bd,EAASc,EAAMC,OAAOC,QAkDVA,MAAOjB,MAGX,cAACK,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAf,SACF,cAAC8B,EAAA,EAAD,CACEC,QAAS,cAACC,EAAA,EAAD,CAAUxC,MAAM,YAAYqC,KAAK,cAAcD,MAAM,QAC9DL,MAAM,uCACNU,QAAU,WAhDlB5B,EALa,CACXwB,KAAMtB,EACN2B,YAAavB,EACbF,QAASA,e,yDChBThB,EAAQ,CAAE0C,OAAQ,YAGlBC,EAAgB,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,SAASC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAGvD,EAA2CC,cAA3C,0BAASC,EAAT,EAASA,QAASC,EAAlB,EAAkBA,UAAaC,EAA/B,KACA,EAAoBtC,mBAAS,IAA7B,mBAAOgB,EAAP,KAAWuB,EAAX,KAcA,OAVAC,qBAAU,WACRF,EAAS,CACPnE,KAAM,eACNmD,MAAM,2BACDc,GADA,IAEHL,SAAUA,QAGb,CAACA,EAAUE,IAGZ,qCACGA,GAAeI,GAAa,qBAAKI,UAAU,YAC5C,cAAC,IAAD,CACEtD,MAAOA,EACPuD,UAAU,EACVC,cAAe,CAACX,EAAUD,EAAU5C,GACpCyD,mBAAeC,EACfC,YAAa,SAACC,EAAMC,GAClB,OAAOA,EAAQC,MACZC,OAAO,CACNC,eAAgB,CACd,CACEC,OAAQ,CACNC,cAAetB,EACfT,MAAOU,OAKdsB,MAAK,SAACC,GAIL,OApCVhB,EAkCuBgB,GACdC,QAAQC,IAAIzC,GACJuC,MAGbG,UAAW,SAAUX,EAAMC,GACzB,OAAOA,EAAQC,MAAMU,UAAUL,MAAK,WAElCpB,EAAa,cAGjB0B,QAAS,SAACC,GACVL,QAAQM,MAAM,kCAAmCD,UAO1C,SAASE,EAAYjE,GAClC,IAAQkC,EAA2BlC,EAA3BkC,SAAUE,EAAiBpC,EAAjBoC,aAClB,EAA4BlC,mBAAS,UAArC,mBAAOgE,EAAP,KAAeC,EAAf,KAMA,OACE,eAAC,IAAM1D,SAAP,WACE,cAACC,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAArC,4BAGA,cAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE,eAACF,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAIwE,GAAI,GAAvB,UACE,eAACC,EAAA,EAAD,CAAajD,WAAS,EAAC1C,GAAI,CAAE4F,eAAgB,GAA7C,UACE,cAACC,EAAA,EAAD,CAAYrD,GAAG,2BAAf,kBACA,eAACsD,EAAA,EAAD,CACEC,QAAQ,2BACRvD,GAAG,qBACHM,MAAO0C,EACP/C,MAAM,iBACNE,SAlBS,SAACC,GACpB6C,EAAU7C,EAAMC,OAAOC,QAYf,UAOE,cAACkD,EAAA,EAAD,CAAUlD,MAAO,SAAjB,oBACA,cAACkD,EAAA,EAAD,CAAUlD,MAAO,OAAjB,wBAGQ,WAAX0C,GACC,qBAAK7E,MAAO,CAAEsF,SAAU,QAASC,UAAW,SAA5C,SACE,cAAC,IAAD,CACEtC,QAAS,CACP,YAAa,mFACbuC,WAAY,UACZ5C,SAAU,OAJd,SAOE,cAAC,EAAD,CAAeA,SApGd,MAoGkCC,SAAUA,EAAUC,aAAa,EAAOC,aAAcA,gB,+BCtG1F,SAAS0C,EAAO9E,GAC7B,IAAO+E,EAAuB/E,EAAvB+E,UACDC,EADwBhF,EAAZiF,SAIZC,EAFaH,EAAYA,EAAUI,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,EAAEC,IAAMD,EAAEE,QAAQC,QAAO,GAAK,EAU5F,OANA9C,qBAAU,WAER,OADAgB,QAAQC,IAAI,WAAaqB,EAAKvD,KAAO,IAAMuD,EAAK3E,QAAU,IAAM2E,EAAKlD,aAC9D,eAEN,CAACkD,IAGF,eAAC,IAAMvE,SAAP,WACE,cAACC,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAArC,2BAGA,eAAC8E,EAAA,EAAD,CAAMC,gBAAc,EAApB,UACGX,GAAaA,EAAUY,KAAI,SAAC5E,GAAD,OAC1B,eAAC6E,EAAA,EAAD,CAAkClH,GAAI,CAAEmH,GAAI,EAAGC,GAAI,GAAnD,UACE,cAACC,EAAA,EAAD,CAAcC,QAASjF,EAAKwE,QAAQ9D,KAAMwE,UAAWlF,EAAKwE,QAAQW,cAClE,eAACxF,EAAA,EAAD,CAAYjB,QAAQ,QAApB,cAA8BsB,EAAKwE,QAAQC,WAF9BzE,EAAKwE,QAAQ9D,SAK9B,eAACmE,EAAA,EAAD,CAAUlH,GAAI,CAAEmH,GAAI,EAAGC,GAAI,GAA3B,UACE,cAACC,EAAA,EAAD,CAAcC,QAAQ,UACtB,eAACtF,EAAA,EAAD,CAAYjB,QAAQ,YAAYf,GAAI,CAAEoB,WAAY,KAAlD,cACGoF,WAIP,eAACtE,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,eAACF,EAAA,EAAD,CAAMG,MAAI,EAACnB,GAAI,GAAIC,GAAI,EAAvB,UACE,cAACa,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAACjC,GAAI,CAAEyH,GAAI,GAAhD,sBAGA,cAACzF,EAAA,EAAD,CAAYC,cAAY,EAAxB,SAA0BqE,EAAKvD,KAAOuD,EAAKvD,KAAO,MAClD,cAACf,EAAA,EAAD,CAAYC,cAAY,EAAxB,SAA0BqE,EAAKlD,YAAckD,EAAKlD,YAAc,MAChE,cAACpB,EAAA,EAAD,CAAYC,cAAY,EAAxB,SAA0BqE,EAAK3E,QAAU2E,EAAK3E,QAAU,SAE1D,eAACO,EAAA,EAAD,CAAMG,MAAI,EAACF,WAAS,EAACuF,UAAU,SAASxG,GAAI,GAAIC,GAAI,EAApD,UACE,cAACa,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAACjC,GAAI,CAAEyH,GAAI,GAAhD,4BAGA,cAACzF,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAACjC,GAAI,CAAEyH,GAAI,GAAhD,6BCnCV,IAAME,EAAQ,CAAC,mBAAoB,oBAAqB,mBAExD,SAASC,EACPC,EACAxB,EACAyB,EACAvB,EACA/C,EACAE,GAEA,OAAQmE,GACN,KAAK,EACH,OAAO,cAACxG,EAAD,CAAaE,SAAUuG,IAChC,KAAK,EACH,OAAO,cAAC1B,EAAD,CAAQC,UAAWA,EAAWE,SAAUA,IACjD,KAAK,EACH,OACE,cAAChB,EAAD,CAAa/B,SAAUA,EAAUE,aAAcA,IAEnD,QACE,MAAM,IAAIqE,MAAM,iBAItB,IAAMC,EAAQC,cAgICC,uBAHf,SAAyBC,GACvB,MAAO,CAAE9B,UAAW8B,EAAMC,KAAMtB,MAAOqB,EAAME,MAAO7E,SAAU2E,EAAM3E,YAE9B,KAAzB0E,EA9Hf,SAAkB5G,GAChB,MAAoCE,mBAAS,GAA7C,mBAAO8G,EAAP,KAAmBC,EAAnB,KACQlC,EAA+B/E,EAA/B+E,UAAWS,EAAoBxF,EAApBwF,MAAOtD,EAAalC,EAAbkC,SAC1BwB,QAAQC,IAAI3D,EAAMkH,SAASC,WAC3B,MAAwBjH,mBAAS,MAAjC,mBAAOkH,EAAP,KAAaC,EAAb,KACA3E,qBAAU,WAGR,OAFAgB,QAAQC,IAAI,aAAe2D,KAAKC,UAAUH,IAC1C1D,QAAQC,IAAI,gBAAkBzB,GACvB,eACN,CAACkF,EAAMlF,IAEV,IAKMsF,EAAa,WACjB9D,QAAQC,IAAIqD,GAEZC,EAAcD,EAAa,IA+B7B,OACE,eAACS,EAAA,EAAD,CAAef,MAAOA,EAAtB,UACE,cAACgB,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CACEC,SAAS,WACTxI,MAAM,UACNyI,UAAW,EACXnJ,GAAI,CACFkJ,SAAU,WACVE,aAAc,SAACC,GAAD,0BAAoBA,EAAEC,QAAQC,WANhD,SASE,cAAC9J,EAAA,EAAD,CAAYC,KAAK,sBAAsBC,KAAK,eAE9C,cAAC6J,EAAA,EAAD,CAAWtJ,UAAU,OAAO+F,SAAS,KAAKjG,GAAI,CAAEyJ,GAAI,GAApD,SACE,eAACC,EAAA,EAAD,CACE3I,QAAQ,WACRf,GAAI,CAAE2J,GAAI,CAAEzI,GAAI,EAAGwE,GAAI,GAAKkE,EAAG,CAAE1I,GAAI,EAAGwE,GAAI,IAF9C,UAIE,cAAC1D,EAAA,EAAD,CAAY9B,UAAU,KAAKa,QAAQ,KAAK8I,MAAM,SAA9C,sBAGA,cAACC,EAAA,EAAD,CAASxB,WAAYA,EAAYtI,GAAI,CAAE+J,GAAI,EAAGC,GAAI,GAAlD,SACGrC,EAAMV,KAAI,SAACxE,GAAD,OACT,cAACwH,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UAAYzH,KADHA,QAKf,cAAC,IAAMV,SAAP,UACGuG,IAAeX,EAAMwC,OACpB,eAAC,IAAMpI,SAAP,WACE,cAACC,EAAA,EAAD,CAAYjB,QAAQ,KAAKkB,cAAY,EAArC,uCAGA,cAACD,EAAA,EAAD,CAAYjB,QAAQ,YAApB,iDAKF,eAAC,IAAMgB,SAAP,WACG6F,EACCU,EACAjC,GAlFA,SAAC9B,GACfoE,EAAQpE,GACRS,QAAQC,IAAIoB,KAkFEqC,EACAlF,GArEK,SAAC7D,GACpB,IAAMyK,EAAM,CACVhH,YAAasF,EAAKtF,YAClBiF,MAAOvB,EAAMuD,WACbC,WAAYhJ,EAAMkH,SAASC,UAC3B9G,QAAS+G,EAAK/G,QACd4I,eAAgB5K,EAChB6K,YAAanE,EAAUY,KAAI,SAAC5E,GAC1B,MAAO,CACLoI,QAASpI,EAAKwE,QAAQrE,GAAG6H,WACzBK,SAAUrI,EAAKuE,IAAIyD,gBAIzBM,IACGC,KADH,wCACiDhC,KAAKC,UAAUuB,IAC7DtF,MAAK,SAAC+F,GACL7F,QAAQC,IAAI4F,MAEbC,OAAM,SAACzF,GAAD,OAASL,QAAQC,IAAII,MAC9ByD,OAoDY,eAACiC,EAAA,EAAD,CAAK/K,GAAI,CAAEJ,QAAS,OAAQE,eAAgB,YAA5C,UACkB,IAAfwI,GACC,cAAC0C,EAAA,EAAD,CAAQ7H,QA9EP,WACjBoF,EAAcD,EAAa,IA6EkBtI,GAAI,CAAEyH,GAAI,EAAGwD,GAAI,GAA9C,kBAKF,cAACD,EAAA,EAAD,CACEjK,QAAQ,YACRoC,QAAS2F,EACT9I,GAAI,CAAEyH,GAAI,EAAGwD,GAAI,GACjBtK,MAAO,CAAER,gBAAiB,UAAWK,aAAc,IAJrD,SAMG8H,IAAeX,EAAMwC,OAAS,EAAI,cAAgB","file":"static/js/6.c4708391.chunk.js","sourcesContent":["import HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\nimport LocalShippingIcon from \"@mui/icons-material/LocalShipping\";\nimport { Box } from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nfunction LogoHeader({ text = \"Default\", type = \"Home\" }) {\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"row\"\n      justifyContent=\"flex-start\"\n      alignItems=\"center\"\n      sx={{ marginInlineStart: 2 }}\n    >\n      {type === \"Home\" && (\n          <Box component=\"div\" sx={{\n            backgroundColor: \"#2E3A55\",\n            width: 50,\n            height: 50,\n            marginInline: 2,\n            marginBlock: 1,\n            borderRadius: 4,\n            display:\"flex\",\n            justifyContent: \"center\",\n            alignContent: \"center\"\n          }} >\n          <HomeRoundedIcon\n          color=\"action\"\n          style={{\n            color: \"#fff\",\n            width: 40,\n            height: 40,\n            alignSelf: \"center\"\n          }}\n        />\n          </Box>\n       \n      )}\n      <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n        <Typography\n          variant=\"h4\"\n          noWrap\n          component=\"div\"\n          sx={{\n            flexGrow: 1,\n            display: { xs: \"none\", sm: \"block\" },\n            fontWeight: \"bold\",\n            color: \"#2E3A55\",\n          }}\n        >\n          {text}\n        </Typography>\n      </Link>\n      {type === \"Checkout\" && (\n        <LocalShippingIcon\n          color=\"action\"\n          style={{\n            color: \"#2E3A55\",\n            width: 50,\n            height: 50,\n            marginInline: 10,\n          }}\n        />\n      )}\n    </Box>\n  );\n}\n\nexport default LogoHeader;\n","import Checkbox from \"@mui/material/Checkbox\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Grid from \"@mui/material/Grid\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport React, { useState } from \"react\";\n\nexport default function AddressForm(props) {\n  const {sendData} = props;\n  const [fullname, setFullName] = useState(\"\");\n  const [address, setAdress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n\n  const handleNameInputChange = (event) => {\n    setFullName(event.target.value);\n  };\n  const handleAddressInputChange = (event) => {\n    setAdress(event.target.value);\n  };\n  const handlePhoneInputChange = (event) => {\n    setPhone(event.target.value);\n  };\n\n  function setData() {\n    const data = {\n      name: fullname,\n      phoneNumber: phone,\n      address: address\n    }\n    sendData(data);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom sx={{ color: \"#252836\" }}>\n      Shipping address\n      </Typography>\n      <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                required\n                id=\"fullname\"\n                label=\"Full name\"\n                fullWidth\n                variant=\"standard\"\n                onChange={handleNameInputChange}\n                value={fullname}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                required\n                id=\"address\"\n                name=\"address\"\n                label=\"Address\"\n                fullWidth\n                variant=\"standard\"\n                onChange={handleAddressInputChange}\n                value={address}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"phone\"\n                name=\"phone\"\n                label=\"Phone number\"\n                fullWidth\n                variant=\"standard\"\n                onChange={handlePhoneInputChange}\n                value={phone}\n              />\n            </Grid>\n            <Grid item xs={12}>\n          <FormControlLabel\n            control={<Checkbox color=\"secondary\" name=\"saveAddress\" value=\"yes\" />}\n            label=\"Use this address for payment details\"\n            onClick= {() => setData()}\n          />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import FormControl from \"@mui/material/FormControl\";\nimport Grid from \"@mui/material/Grid\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport Typography from \"@mui/material/Typography\";\nimport { PayPalButtons, PayPalScriptProvider, usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\nimport React, { useEffect, useState } from \"react\";\n\n// This values are the props in the UI\nconst currency = \"USD\";\nconst style = { layout: \"vertical\" };\n\n// Custom component to wrap the PayPalButtons and handle currency changes\nconst ButtonWrapper = ({ currency,discount, showSpinner, handleSubmit }) => {\n  // usePayPalScriptReducer can be use only inside children of PayPalScriptProviders\n  // This is the main reason to wrap the PayPalButtons in a new component\n  const [{ options, isPending }, dispatch] = usePayPalScriptReducer();\n  const [id, setID] = useState(\"\");\n  function handleOrderID(e) {\n    setID(e);\n  }\n  useEffect(() => {\n    dispatch({\n      type: \"resetOptions\",\n      value: {\n        ...options,\n        currency: currency,\n      },\n    });\n  }, [currency, showSpinner]);\n\n  return (\n    <>\n      {showSpinner && isPending && <div className=\"spinner\" />}\n      <PayPalButtons\n        style={style}\n        disabled={false}\n        forceReRender={[discount, currency, style]}\n        fundingSource={undefined}\n        createOrder={(data, actions) => {\n          return actions.order\n            .create({\n              purchase_units: [\n                {\n                  amount: {\n                    currency_code: currency,\n                    value: discount,\n                  },\n                },\n              ],\n            })\n            .then((orderId) => {\n              // Your code here after create the order\n             handleOrderID(orderId);\n             console.log(id)\n              return orderId;\n            });\n        }}\n        onApprove={function (data, actions) {\n          return actions.order.capture().then(function () {\n            // Your code here after capture the order\n            handleSubmit(\"paypal\");\n          });\n        }}\n        onError={(err) => {\n        console.error('error from the onError callback', err);\n        }} \n      />\n    </>\n  );\n};\n\nexport default function PaymentForm(props) {\n  const { discount, handleSubmit } = props;\n  const [select, setSelect] = useState(\"paypal\");\n\n  const handleChange = (event) => {\n    setSelect(event.target.value);\n  };\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Payment method\n      </Typography>\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={12}>\n          <FormControl fullWidth sx={{ marginBlockEnd: 2 }}>\n            <InputLabel id=\"demo-simple-select-label\">Type</InputLabel>\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={select}\n              label=\"Payment method\"\n              onChange={handleChange}\n            >\n              <MenuItem value={\"paypal\"}>PayPal</MenuItem>\n              <MenuItem value={\"cash\"}>Cash</MenuItem>\n            </Select>\n          </FormControl>\n          {select === \"paypal\" && (\n            <div style={{ maxWidth: \"750px\", minHeight: \"200px\" }}>\n              <PayPalScriptProvider\n                options={{\n                  \"client-id\": \"AZsMLZ_7y5QnrVlDLIwc07XYQ3Xl1ndbx7P7ukOlleeqgxOo_8hHx2gUNoYC4w14A8ooYhxehIcN54Bk\",\n                  components: \"buttons\",\n                  currency: \"USD\",\n                }}\n              >\n                <ButtonWrapper currency={currency} discount={discount} showSpinner={false} handleSubmit={handleSubmit} />\n              </PayPalScriptProvider>\n            </div>\n          )}\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import Grid from '@mui/material/Grid';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport Typography from '@mui/material/Typography';\nimport React, { useEffect } from 'react';\n\n\nexport default function Review(props) {\n  const {cartItems, shipInfo} = props;\n  const info = shipInfo\n  const itemsPrice = cartItems ? cartItems.reduce((a, c) => a + c.qty * c.product.price, 0) : 0;\n  // const discount = itemsPrice;\n  const totalPrice = itemsPrice;\n\n  useEffect(() => {\n    console.log(\"Review: \" + info.name + \" \" + info.address + \" \" + info.phoneNumber );\n    return () => {\n    };\n  }, [info]);\n  \n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Order summary\n      </Typography>\n      <List disablePadding>\n        {cartItems && cartItems.map((item) => (\n          <ListItem key={item.product.name} sx={{ py: 1, px: 0 }}>\n            <ListItemText primary={item.product.name} secondary={item.product.description} />\n            <Typography variant=\"body2\">${item.product.price}</Typography>\n          </ListItem>\n        ))}\n        <ListItem sx={{ py: 1, px: 0 }}>\n          <ListItemText primary=\"Total\" />\n          <Typography variant=\"subtitle1\" sx={{ fontWeight: 700 }}>\n           ${totalPrice}\n          </Typography>\n        </ListItem>\n      </List>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n            Shipping\n          </Typography>\n          <Typography gutterBottom>{info.name ? info.name : \" \"}</Typography>\n          <Typography gutterBottom>{info.phoneNumber ? info.phoneNumber : \" \"}</Typography>\n          <Typography gutterBottom>{info.address ? info.address : \" \"}</Typography>\n        </Grid>\n        <Grid item container direction=\"column\" xs={12} sm={6}>\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n            Payment method\n          </Typography>\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n            Paypal\n          </Typography>\n          \n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}","import AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport Container from \"@mui/material/Container\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Paper from \"@mui/material/Paper\";\nimport Step from \"@mui/material/Step\";\nimport StepLabel from \"@mui/material/StepLabel\";\nimport Stepper from \"@mui/material/Stepper\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport Typography from \"@mui/material/Typography\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport LogoHeader from \"../components/utils/LogoHeader\";\nimport AddressForm from \"./../components/layout/AddressForm\";\nimport PaymentForm from \"./../components/layout/PaymentForm\";\nimport Review from \"./../components/layout/Review\";\nconst steps = [\"Shipping address\", \"Review your order\", \"Payment details\"];\n\nfunction getStepContent(\n  step,\n  cartItems,\n  getData,\n  shipInfo,\n  discount,\n  handleSubmit\n) {\n  switch (step) {\n    case 0:\n      return <AddressForm sendData={getData} />;\n    case 1:\n      return <Review cartItems={cartItems} shipInfo={shipInfo} />;\n    case 2:\n      return (\n        <PaymentForm discount={discount} handleSubmit={handleSubmit} />\n      );\n    default:\n      throw new Error(\"Unknown step\");\n  }\n}\n\nconst theme = createTheme();\n\nfunction Checkout(props) {\n  const [activeStep, setActiveStep] = useState(0);\n  const { cartItems, price, discount } = props;\n  console.log(props.location.voucherID)\n  const [ship, setShip] = useState(null);\n  useEffect(() => {\n    console.log(\"Checkout: \" + JSON.stringify(ship));\n    console.log(\"Total price: \" + discount);\n    return () => {};\n  }, [ship, discount]);\n\n  const getData = (data) => {\n    setShip(data);\n    console.log(cartItems);\n  };\n\n  const handleNext = () => {\n    console.log(activeStep)\n    // if(activeStep  === steps.length -1) handleSubmit(\"cash\");\n    setActiveStep(activeStep + 1);\n    \n  };\n\n  const handleBack = () => {\n    setActiveStep(activeStep - 1);\n  };\n\n  const handleSubmit = (type) => {\n    const obj = {\n      phoneNumber: ship.phoneNumber,\n      total: price.toString(),\n      voucher_id: props.location.voucherID,\n      address: ship.address,\n      payment_method: type,\n      order_items: cartItems.map((item) => {\n        return {\n          menu_id: item.product.id.toString(),\n          quantity: item.qty.toString(),\n        };\n      }),\n    };\n    axios\n      .post(`https://test.greenup.com.vn/api/order`, JSON.stringify(obj))\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => console.log(err))\n    handleNext();\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        color=\"default\"\n        elevation={0}\n        sx={{\n          position: \"relative\",\n          borderBottom: (t) => `1px solid ${t.palette.divider}`,\n        }}\n      >\n        <LogoHeader text=\"Lau Chay Restaurant\" type=\"Checkout\"></LogoHeader>\n      </AppBar>\n      <Container component=\"main\" maxWidth=\"sm\" sx={{ mb: 4 }}>\n        <Paper\n          variant=\"outlined\"\n          sx={{ my: { xs: 3, md: 6 }, p: { xs: 2, md: 3 } }}\n        >\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n            Checkout\n          </Typography>\n          <Stepper activeStep={activeStep} sx={{ pt: 3, pb: 5 }}>\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <React.Fragment>\n            {activeStep === steps.length ? (\n              <React.Fragment>\n                <Typography variant=\"h5\" gutterBottom>\n                  Thank you for your order.\n                </Typography>\n                <Typography variant=\"subtitle1\">\n                  We will prepare your order soon.\n                </Typography>\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                {getStepContent(\n                  activeStep,\n                  cartItems,\n                  getData,\n                  ship,\n                  discount,\n                  handleSubmit\n                )}\n                <Box sx={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                  {activeStep !== 0 && (\n                    <Button onClick={handleBack} sx={{ mt: 3, ml: 1 }}>\n                      Back\n                    </Button>\n                  )}\n\n                  <Button\n                    variant=\"contained\"\n                    onClick={handleNext}\n                    sx={{ mt: 3, ml: 1 }}\n                    style={{ backgroundColor: \"#E43122\", borderRadius: 10 }}\n                  >\n                    {activeStep === steps.length - 1 ? \"Place order\" : \"Next\"}\n                  </Button>\n                </Box>\n              </React.Fragment>\n            )}\n          </React.Fragment>\n        </Paper>\n      </Container>\n    </ThemeProvider>\n  );\n}\nfunction mapStateToProps(state) {\n  return { cartItems: state.cart, price: state.total, discount: state.discount };\n}\nexport default connect(mapStateToProps, null)(Checkout);\n"],"sourceRoot":""}